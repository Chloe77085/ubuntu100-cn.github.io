"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[9288],{28453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>c});var i=r(96540);const s={},a=i.createContext(s);function t(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(a.Provider,{value:n},e.children)}},45256:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/image-145-f4cc7100f32cdceeaaa57eb9735e7d6b.jpg"},59085:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>d,frontMatter:()=>t,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"rubik-pi-3-user-manual/1.1.0/rubikpi-btapp","title":"11. RUBIK Pi 3\u84dd\u7259\u5de5\u5177 rubikpi_btapp\u4f7f\u7528\u6307\u5357","description":"","source":"@site/docs/rubik-pi-3-user-manual/1.1.0/11.rubikpi-btapp.md","sourceDirName":"rubik-pi-3-user-manual/1.1.0","slug":"/rubik-pi-3-user-manual/1.1.0/rubikpi-btapp","permalink":"/ubuntu100-cn.github.io/docs/rubik-pi-3-user-manual/1.1.0/rubikpi-btapp","draft":false,"unlisted":false,"editUrl":"https://github.com/rubikpi-ai/documentation/blob/main/docs-cn/docs/rubik-pi-3-user-manual/1.1.0/11.rubikpi-btapp.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_position":11,"description":"","custom_edit_url":"https://github.com/rubikpi-ai/documentation/blob/main/docs-cn/docs/rubik-pi-3-user-manual/1.1.0/11.rubikpi-btapp.md"},"sidebar":"tutorialSidebar","previous":{"title":"10.\u9b54\u65b9\u6d3e3\u914d\u7f6e\u5de5\u5177 rubikpi_config \u4f7f\u7528\u6307\u5357","permalink":"/ubuntu100-cn.github.io/docs/rubik-pi-3-user-manual/1.1.0/rubikpi-config"},"next":{"title":"12. GitHhub\u64cd\u4f5c\u6307\u5357","permalink":"/ubuntu100-cn.github.io/docs/rubik-pi-3-user-manual/1.1.0/github"}}');var s=r(74848),a=r(28453);const t={sidebar_position:11,description:"",custom_edit_url:"https://github.com/rubikpi-ai/documentation/blob/main/docs-cn/docs/rubik-pi-3-user-manual/1.1.0/11.rubikpi-btapp.md"},c="11. RUBIK Pi 3\u84dd\u7259\u5de5\u5177 rubikpi_btapp\u4f7f\u7528\u6307\u5357",l={},p=[{value:"11.1 \u542f\u52a8\u84dd\u7259\u5e76\u5b8c\u6210\u914d\u5bf9",id:"111-\u542f\u52a8\u84dd\u7259\u5e76\u5b8c\u6210\u914d\u5bf9",level:2},{value:"11.2 \u84dd\u7259\u6587\u4ef6\u4f20\u8f93",id:"112-\u84dd\u7259\u6587\u4ef6\u4f20\u8f93",level:2},{value:"11.3 \u84dd\u7259\u97f3\u9891\u6d4b\u8bd5",id:"113-\u84dd\u7259\u97f3\u9891\u6d4b\u8bd5",level:2},{value:"11.4 \u8f6f\u4ef6\u7248\u672c\u4fe1\u606f",id:"114-\u8f6f\u4ef6\u7248\u672c\u4fe1\u606f",level:2}];function o(e){const n={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"11-rubik-pi-3\u84dd\u7259\u5de5\u5177-rubikpi_btapp\u4f7f\u7528\u6307\u5357",children:"11. RUBIK Pi 3\u84dd\u7259\u5de5\u5177 rubikpi_btapp\u4f7f\u7528\u6307\u5357"})}),"\n",(0,s.jsx)(n.h2,{id:"111-\u542f\u52a8\u84dd\u7259\u5e76\u5b8c\u6210\u914d\u5bf9",children:"11.1 \u542f\u52a8\u84dd\u7259\u5e76\u5b8c\u6210\u914d\u5bf9"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u8fd0\u884c app\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",metastring:"showLineNumbers",children:"rubikpi_btapp\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u4e3b\u83dc\u5355\u663e\u793a\u5982\u4e0b\u3002\u4e3b\u83dc\u5355\u4e2d\u5305\u542b\u4e86\u652f\u6301\u7684\u5404\u529f\u80fd\u6a21\u5757\uff0c\u8f93\u5165\u5bf9\u5e94\u7f16\u53f7\u8fdb\u5165\u76f8\u5e94\u6a21\u5757\u83dc\u5355\uff08\u5176\u4e2d 0\uff1a\u9000\u51fa\u7a0b\u5e8f\uff0c99\uff1a\u6253\u5370\u5e2e\u52a9\u4fe1\u606f\uff0c1\uff1a\u56de\u5230\u4e0a\u4e00\u7ea7\u83dc\u5355\uff09\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plain",metastring:"showLineNumbers",children:"BSA_trace 1@ 01/01 00h:31m:18s:746ms: BSA_MgtOpenInit\r\nBSA_trace 2@ 01/01 00h:31m:18s:746ms: BSA_MgtOpen (/usr/src/rubikpi-btapp/)\r\nCreated thread with thread_id=  8119f120\r\nBSA_trace 3@ 01/01 00h:31m:18s:746ms: bsa_cl_mgt_init\r\nBSA_trace 4@ 01/01 00h:31m:18s:746ms: UIPC_Init\r\nBSA_trace 5@ 01/01 00h:31m:18s:746ms: UIPC_Open ChId:3\r\n \r\n*****************Main Menu menu*******************\r\n         1 ==>main\r\n         2 ==>manager\r\n         3 ==>opp\r\n         4 ==>a2dp\r\n         5 ==>pan\r\n         6 ==>pbap\r\n         7 ==>sap\r\n         8 ==>hfp ag\r\n         9 ==>hfp client\r\n         10 ==>hfp sw\r\n         11 ==>av\r\n         12 ==>data gw\r\n         13 ==>fm\r\n         14 ==>ftp\r\n         15 ==>hid dev\r\n         16 ==>hid host\r\n         17 ==>headless\r\n         18 ==>health\r\n         19 ==>map\r\n         20 ==>nsa\r\n         21 ==>ctn\r\n         22 ==>3d\r\n         23 ==>test\r\n         24 ==>vsc\r\n         25 ==>ble\r\n         26 ==>ble_ancs\r\n         27 ==>ble_cscc\r\n         28 ==>ble_blp\r\n         29 ==>ble_eddystone\r\n         30 ==>ble_hrc\r\n         31 ==>ble_htp\r\n         32 ==>ble_pm\r\n         33 ==>ble_rscc\r\n         34 ==>ble_tvselect\r\n         35 ==>ble_wifi\r\n         99 ==>help\r\n         0 ==>quit\r\n ****************************************************\r\nSelect action => \n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u8f93\u5165\u201c2\u201d\u5e76\u6309\u56de\u8f66\u8fdb\u5165 manager \u83dc\u5355\uff08\u5176\u4e2d\u5305\u542b\u4e86 bt \u57fa\u672c\u7684\u914d\u5bf9\u8fde\u63a5\u529f\u80fd\uff09\u3002manager \u83dc\u5355\u663e\u793a\u5982\u4e0b\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plain",metastring:"showLineNumbers",children:"Select action => 2\r\n \r\n*****************manager menu*******************\r\n         1 ==>main_menu\r\n         99 ==>help_menu\r\n         0 ==>quit\r\n ****************************************************\r\nBluetooth Application Manager menu:\r\n        2 => Init\r\n        3 => Abort Discovery\r\n        4 => Discovery\r\n        5 => Discovery test\r\n        6 => Bonding\r\n        7 => Cancel Bonding\r\n        8 => Remove device from security database\r\n        9 => Services Discovery (all services)\r\n        10 => Device Id Discovery\r\n        11 => Set local Device Id\r\n        12 => Get local Device Id\r\n        13 => Stop Bluetooth\r\n        14 => Restart Bluetooth\r\n        15 => Accept Simple Pairing\r\n        16 => Refuse Simple Pairing\r\n        17 => Enter BLE Passkey\r\n        18 => Act As HID Keyboard (SP passkey entry)\r\n        19 => Read Device configuration\r\n        20 => Read Local Out Of Band data\r\n        21 => Enter remote Out Of Band data\r\n        22 => Set device visibility\r\n        23 => Set device BLE visibility\r\n        24 => Set AFH Configuration\r\n        25 => Set Tx Power Class2 (specific FW needed)\r\n        26 => Set Tx Power Class1.5 (specific FW needed)\r\n        27 => Change Dual Stack Mode (currently:DUAL_STACK_MODE_BSA)\r\n        28 => Set Link Policy\r\n        29 => Enter Passkey\r\n        30 => Get Remote Device Name\r\n        31 => RSSI Measurement\r\n        32 => Tx Power Measurement\r\n        33 => Set class of device\r\n        96 => Kill BSA server\r\n        97 => Connect to BSA server\r\n        98 => Disconnect from BSA server\r\n        0 => Exit\r\nSelect action => \r\n\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u521d\u59cb\u5316 manager\u3002"}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsx)(n.p,{children:"\u5176\u4ed6\u83dc\u5355\u9700\u8981\u57fa\u4e8e manager \u4e2d\u5efa\u7acb\u7684 socket \u8fdb\u884c\u901a\u4fe1\uff0c\u6240\u4ee5\u5728\u6267\u884c\u5176\u4ed6\u83dc\u5355\u64cd\u4f5c\u4e4b\u524d\u9700\u8981\u5148\u6267\u884c manager \u521d\u59cb\u5316\u64cd\u4f5c\u3002"})}),"\n",(0,s.jsx)(n.p,{children:"\u8f93\u5165\u201c2\u201d\u5f00\u59cb\u521d\u59cb\u5316\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plain",metastring:"showLineNumbers",children:"Select action => 2\r\nDEBUG: app_mgr_read_config: Enable:1\r\nDEBUG: app_mgr_read_config: Discoverable:1\r\nDEBUG: app_mgr_read_config: Connectable:1\r\nDEBUG: app_mgr_read_config: Name:BSA_HOGP\r\nDEBUG: app_mgr_read_config: Bdaddr be:ef:be:ef:25:6a\r\nDEBUG: app_mgr_read_config: ClassOfDevice:00:04:24 => Audio/Video\r\nDEBUG: app_mgr_read_config: RootPath:/usr/src/rubikpi-btapp/pictures\r\nDEBUG: app_mgr_read_config: Default PIN (4):0000\r\nERROR: app_xml_read_db: open(/usr/src/rubikpi-btapp/bt_devices.xml) failed\r\nERROR: app_mgr_read_remote_devices: app_xml_read_db failed:-1\r\nERROR: app_mgr_config: No remote device database found\r\nBSA_trace 6@ 01/01 00h:33m:52s:562ms: BSA_DmGetConfigInit\r\nBSA_trace 7@ 01/01 00h:33m:52s:562ms: BSA_DmGetConfig\r\nDEBUG: app_mgr_get_bt_config: Enable:1\r\nDEBUG: app_mgr_get_bt_config: Discoverable:1\r\nDEBUG: app_mgr_get_bt_config: Connectable:1\r\nDEBUG: app_mgr_get_bt_config: Name:BSA_HOGP\r\nDEBUG: app_mgr_get_bt_config: Bdaddr be:ef:be:ef:25:6a\r\nDEBUG: app_mgr_get_bt_config: ClassOfDevice:00:04:24\r\nDEBUG: app_mgr_get_bt_config: First host disabled channel:79\r\nDEBUG: app_mgr_get_bt_config: Last host disabled channel:79\r\nDEBUG: app_mgr_sec_set_security: \r\nBSA_trace 8@ 01/01 00h:33m:52s:564ms: BSA_SecSetSecurityInit\r\nBSA_trace 9@ 01/01 00h:33m:52s:564ms: BSA_SecSetSecurity\r\nAdd all devices found in database\r\nERROR: app_xml_read_si_db: open(/usr/src/rubikpi-btapp/si_devices.xml) failed\r\nERROR: app_read_xml_si_devices: app_xml_read_si_db failed: -1\r\nBSA_trace 10@ 01/01 00h:33m:52s:564ms: BSA_DmSetConfigInit\r\nDEBUG: app_mgr_set_bt_config: Enable:1\r\nDEBUG: app_mgr_set_bt_config: Discoverable:1\r\nDEBUG: app_mgr_set_bt_config: Connectable:1\r\nDEBUG: app_mgr_set_bt_config: Name:BSA_HOGP\r\nDEBUG: app_mgr_set_bt_config: Bdaddr be:ef:be:ef:25:6a\r\nDEBUG: app_mgr_set_bt_config: ClassOfDevice:00:04:24\r\nDEBUG: app_mgr_set_bt_config: First host disabled channel:79\r\nDEBUG: app_mgr_set_bt_config: Last host disabled channel:79\r\nBSA_trace 11@ 01/01 00h:33m:52s:565ms: BSA_DmSetConfig\r\nBSA_trace 12@ 01/01 00h:33m:52s:676ms: BSA_TmReadVersionInit\r\nBSA_trace 13@ 01/01 00h:33m:52s:676ms: BSA_TmReadVersion\r\nServer status:0\r\nFW Version:3.6.6.1154\r\nBSA Server Version:BSA0107_00.26.00_qcom_qcs6490\r\nBSA Server Version Information:Use_local_timestamp_for_logs_20240814\r\nDEBUG: app_dm_get_dual_stack_mode: Get DualStackMode\r\nBSA_trace 14@ 01/01 00h:33m:52s:678ms: BSA_DmGetConfigInit\r\nBSA_trace 15@ 01/01 00h:33m:52s:678ms: BSA_DmGetConfig\r\nCurrent DualStack mode:DUAL_STACK_MODE_BSA\r\nSelect action => \r\n\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u641c\u7d22\u8bbe\u5907\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u8f93\u5165\u201c4\u201d\u641c\u7d22\u8bbe\u5907\uff08\u7531\u4e8e\u5e94\u7528\u4e0e\u670d\u52a1\u4e4b\u95f4\u901a\u4fe1\u91c7\u7528\u5f02\u6b65\u901a\u4fe1\uff0c\u6240\u4ee5\u9700\u8981\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\u624d\u80fd\u6253\u5370\u51fa\u641c\u7d22\u5230\u7684\u8bbe\u5907\uff09\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plain",metastring:"showLineNumbers",children:"Select action => 4\r\nStart Regular Discovery\r\nBSA_trace 16@ 01/01 01h:45m:29s:988ms: BSA_DiscStartInit\r\nBSA_trace 17@ 01/01 01h:45m:29s:988ms: BSA_DiscStart\r\nSelect action => New Discovered device:0\r\n        Bdaddr:69:00:83:7f:b1:15\r\n        Name:\r\n        ClassOfDevice:00:00:00 => Misc device\r\n        Services:0x00000000 ()\r\n        Rssi:-47\r\n        DeviceType:BLE InquiryType:BLE AddressType:Random\r\n        Extended Information:\r\n            Flags:0x1a [LE_General Controller_LE/BR/EDR Host_LE/BR/EDR]\r\n            TxPower:12 dB\r\n            Manufacturer Specific CompanyId:0x004C [Apple, Inc.]:\r\n                Data: 10 05 65 1C 6D B4 B4 \r\n......\r\n......\r\nDiscovery complete\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u914d\u5bf9\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u8f93\u5165\u201c6\u201d\u8fdb\u5165 bonding \u83dc\u5355\uff0c\u8fd9\u65f6\u4f1a\u5c06\u4e4b\u524d\u641c\u7d22\u5230\u7684 dev \u6253\u5370\u51fa\u6765\uff0c\u8f93\u5165\u5bf9\u5e94\u7684 dev \u7f16\u53f7\u5c31\u53ef\u4ee5\u4e0e\u76f8\u5e94\u7684\u8bbe\u5907\u8fdb\u884c\u914d\u5bf9\u7ed1\u5b9a\uff0c\u7136\u540e\u6839\u636e\u63d0\u793a\u901a\u8fc7\u8f93\u5165\u201c15\u201d\u6216\u201c16\u201d\u786e\u5b9a\u662f\u5426\u63a5\u53d7\u914d\u5bf9\uff08\u201c15\u201d\u4e3a\u63a5\u53d7\uff0c\u201c16\u201d\u4e3a\u62d2\u7edd\uff09\uff0c\u63a5\u53d7\u4e4b\u540e\u5c31\u4f1a\u5b8c\u6210\u914d\u5bf9\u7684\u6d41\u7a0b\uff0c\u914d\u5bf9\u6210\u529f\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plain",metastring:"showLineNumbers",children:"Dev:0\r\n        Bdaddr:5a:20:4e:6e:f7:57\r\n        Name:\r\n        ClassOfDevice:00:00:00 => Misc device\r\n        Rssi:-55\r\n......\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u53ef\u4ee5\u901a\u8fc7 7 => Cancel Bonding \u53d6\u6d88\u5df2\u7ecf\u7ed1\u5b9a\u7684\u84dd\u7259\u8bbe\u5907\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"112-\u84dd\u7259\u6587\u4ef6\u4f20\u8f93",children:"11.2 \u84dd\u7259\u6587\u4ef6\u4f20\u8f93"}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u4e3b\u83dc\u5355\u4e0b\u8f93\u5165\u201c3+\u56de\u8f66\u201d\uff0c\u8fdb\u5165 opp \u83dc\u5355\uff0c\u8fdb\u884c\u6587\u4ef6\u4f20\u8f93\u6d4b\u8bd5\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plain",metastring:"showLineNumbers",children:"Select action => 3\r\n \r\n*****************opp menu*******************\r\n         1 ==>main_menu\r\n         99 ==>help_menu\r\n         0 ==>quit\r\n ****************************************************\r\nBluetooth Application OPP Menu:\r\n    2 => opp server enable\r\n    3 => opp server disable\r\n    4 => ops enable auto accept\r\n    5 => ops disconnect device\r\n    6 => opp client enable\r\n    7 => opp client disable\r\n    8 => push vcard\r\n    9 => exchange vcard\r\n    10 => pull vcard\r\n    11 => push /usr/src/rubikpi-btapp/test_file.txt\r\n    12 => opc disconnect device\r\n    13 => discovery\r\n    0 => Exit\r\nSelect action => \r\n\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u63a5\u6536\u6587\u4ef6\u6d4b\u8bd5"}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["\u4e0a\u4e00\u8282\u4e2d\u6267\u884c rubikpi-btapp \u7a0b\u5e8f\u7684\u7ec8\u7aef\u4ee5\u4e0b\u7b80\u79f0\u7ec8\u7aef 1\u3002\u53e6\u5916\u8d77\u4e00\u4e2a\u7ec8\u7aef 2\uff0c\u8fdb\u5165\u5230\u84dd\u7259\u5e94\u7528\u8def\u5f84\u4e0b\uff08",(0,s.jsx)(n.em,{children:"/usr/src/rubikpi-btapp/"}),"\uff09\uff0c\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u65b0\u5efa\u63a5\u6536\u76ee\u5f55 ",(0,s.jsx)(n.em,{children:"push"}),"\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",metastring:"showLineNumbers",children:"mkdir push\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u56de\u5230\u7ec8\u7aef 1 \u7684 opp \u83dc\u5355\u4e0b\uff0c\u8f93\u5165\u201c2\u201d\u4f7f\u80fd opp server \u7aef\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plain",metastring:"showLineNumbers",children:"Select action => 2\r\napp_start_ops\r\nBSA_trace 6@ 01/01 00h:40m:39s:334ms: BSA_OpsEnableInit\r\nBSA_trace 7@ 01/01 00h:40m:39s:334ms: BSA_OpsEnable\r\napp_start_ops Status: 0 \r\nSelect action => \r\n\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["\u8f93\u5165\u201c4\u201d\u4f7f\u80fd\u81ea\u52a8\u63a5\u6536\uff0c\u7136\u540e\u4f7f\u7528\u4e0e\u9b54\u65b9\u6d3e3\u914d\u5bf9\u7684\u5bf9\u7aef\u8bbe\u5907\u53d1\u9001\u6d4b\u8bd5\u6587\u4ef6\uff0c\u8fd9\u65f6\u9b54\u65b9\u6d3e3\u5c31\u4f1a\u81ea\u52a8\u5c06\u63a5\u6536\u5230\u7684\u6587\u4ef6\u4fdd\u5b58\u5728 ",(0,s.jsx)(n.em,{children:"push "}),"\u8def\u5f84\u4e0b\uff0c\u53d1\u9001\u5b8c\u6210\u540e\uff0c\u901a\u8fc7\u7ec8\u7aef 2 \u5728 ",(0,s.jsx)(n.em,{children:"push"})," \u8def\u5f84\u4e0b\u5c31\u53ef\u4ee5\u770b\u5230\u521a\u521a\u4f20\u8f93\u7684\u6587\u4ef6\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plain",metastring:"showLineNumbers",children:"Select action => 4\r\nBSA_trace 8@ 01/01 00h:41m:54s:528ms: BSA_OpsAccessInit\r\napp_ops_auto_accept\r\nDEBUG: app_ops_auto_accept: app_ops Auto - oper:1 access:4 Name:/usr/src/rubikpi-btapp/push/\r\nBSA_trace 9@ 01/01 00h:41m:54s:528ms: BSA_OpsAccess\r\napp_ops Auto - oper:2 access:4 Name:/usr/src/rubikpi-btapp/pull/Abdul Iqbal.vcf\r\nBSA_trace 10@ 01/01 00h:41m:54s:530ms: BSA_OpsAccess\r\nSelect action => \r\n\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u8f93\u5165\u201c3\u201d\u5173\u95ed server \u7aef\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plain",metastring:"showLineNumbers",children:"Select action => 3\r\napp_stop_ops\r\nBSA_trace 11@ 01/01 00h:42m:52s:588ms: BSA_OpsDisableInit\r\nBSA_trace 12@ 01/01 00h:42m:52s:588ms: BSA_OpsDisable\r\nSelect action => \r\n\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u53d1\u9001\u6587\u4ef6\u6d4b\u8bd5"}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["\u901a\u8fc7\u7ec8\u7aef 2 \u8fdb\u5165\u5230\u5e94\u7528\u8def\u5f84\u4e0b\uff08",(0,s.jsx)(n.em,{children:"usr/src/rubikpi-btapp/"}),"\uff09,\u65b0\u5efa\u60f3\u8981\u4f20\u8f93\u7684\u6587\u4ef6 ",(0,s.jsx)(n.em,{children:"test_file.txt"})," \u5e76\u7528\u5982\u4e0b\u547d\u4ee4\u5199\u5165\u5185\u5bb9\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",metastring:"showLineNumbers",children:"touch ./test_file.txt\r\necho RUBIKPI_TEST > test_file.txt\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u56de\u5230\u7ec8\u7aef 1 \u7684 opp \u83dc\u5355\uff0c\u8f93\u5165\u201c6\u201d\u4f7f\u80fd opp client \u7aef\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plain",metastring:"showLineNumbers",children:"Select action => 6\r\napp_opc_start\r\nBSA_trace 13@ 01/01 00h:44m:27s:670ms: BSA_OpcEnableInit\r\nBSA_trace 14@ 01/01 00h:44m:27s:670ms: BSA_OpcEnable\r\napp_opc_start Status: 0 \r\nSelect action => \n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u8f93\u5165\u201c11\u201d\u51c6\u5907\u53d1\u9001\u6d4b\u8bd5\u6587\u4ef6\uff0c\u7136\u540e\u9009\u62e9\u60f3\u8981\u53d1\u9001\u5230\u7684\u5bf9\u7aef\u8bbe\u5907\u7f16\u53f7\u5e76\u56de\u8f66\uff0c\u8fd9\u65f6\u5bf9\u7aef\u8bbe\u5907\u51c6\u5907\u63a5\u6536\u6587\u4ef6\uff0c\u5f53\u6587\u4ef6\u63a5\u6536\u5b8c\u6bd5\u540e\uff0c\u8f93\u5165\u201c7\u201d\u5173\u95ed client \u7aef\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"113-\u84dd\u7259\u97f3\u9891\u6d4b\u8bd5",children:"11.3 \u84dd\u7259\u97f3\u9891\u6d4b\u8bd5"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u97f3\u9891\u64ad\u653e\u6d4b\u8bd5"}),"\n",(0,s.jsx)(n.p,{children:"a. \u5728\u4e3b\u83dc\u5355\u4e2d\u8f93\u5165\u201c11\u201d\u8fdb\u5165 av \u6a21\u5f0f\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:"showLineNumbers",children:"Select action => 11\r\n \r\n*****************av menu*******************\r\n         1 ==>main_menu\r\n         99 ==>help_menu\r\n         0 ==>quit\r\n ****************************************************\r\nBluetooth Application AV menu\r\n  AV Point To Point menu:\r\n    2 => Abort Discovery\r\n    3 => Start Discovery\r\n    4 => Display local source points\r\n    5 => AV Register (Create local source point)\r\n    6 => AV DeRegister (Remove local source point)\r\n    7 => AV Open (Connect)\r\n    8 => AV Close (Disconnect)\r\n    9 => AV Play AVK Stream\r\n    10 => AV Play Tone\r\n    11 => AV Toggle Tone\r\n    12 => AV Play File\r\n    13 => AV Start Playlist\r\n    14 => AV Play Microphone\r\n    15 => Accept Request\r\n    16 => Refuse Request\r\n    17 => AV Stop\r\n    18 => AV Pause\r\n    19 => AV Resume\r\n    20 => AV Send RC Command (Inc Volume)\r\n    21 => AV Send RC Command (Dec Volume)\r\n    22 => AV Close RC\r\n    23 => AV Send Absolute Vol RC Command\r\n    24 => AV Configure UIPC\r\n    25 => AV Change Content Protection (Currently:NONE)\r\n    26 => AV Test SEC codec\r\n    27 => AV Set Tone sampling frequency\r\n    28 => AV Send Meta Response to Get Element Attributes Command\r\n    29 => AV Send Meta Response to Get Play Status Command\r\n    30 => AV Send Metadata Change Notifications\r\n    31 => Change AV file for PTS test\r\n    32 => Reset folder location for PTS test\r\n    0 => Exit\r\nDEBUG: app_uipc_tx_thread: Starting UIPC Tx thread\r\nDEBUG: app_uipc_tx_thread: Waiting for play start\r\nDEBUG: app_playlist_create: New file Audio file found:2c.wav\r\nDEBUG: app_playlist_create: New file Audio file found:Remix_48K_2ch_16bit.wav\r\nWAV format of: /usr/src/rubikpi-btapp/test_files/av/2c.wav\r\n    codec(PCM) ch(2) bits(16) rate(44100)\r\nWAV format of: /usr/src/rubikpi-btapp/test_files/av/Remix_48K_2ch_16bit.wav\r\n    codec(PCM) ch(2) bits(16) rate(48000)\r\napp_av_cb.soundfile_list_size:2\r\nBSA_trace 6@ 01/01 00h:46m:41s:124ms: BSA_AvEnableInit\r\nBSA_trace 7@ 01/01 00h:46m:41s:124ms: BSA_AvEnable\r\nBSA_trace 8@ 01/01 00h:46m:41s:127ms: BSA_AvRegisterInit\r\nBSA_trace 9@ 01/01 00h:46m:41s:127ms: BSA_AvRegister\r\nBSA_trace 10@ 01/01 00h:46m:41s:134ms: UIPC_Open ChId:5\r\nBSA_trace 11@ 01/01 00h:46m:41s:134ms: uipc_rb_open name:rb_av id:5 size:20001 flags:x2\r\nBSA_trace 12@ 01/01 00h:46m:41s:134ms: uipc_rb_open: Size = 20001\r\nBSA_trace 13@ 01/01 00h:46m:41s:134ms: uipc_rb_open: Buffer = 0x7f97074010\r\nBSA_trace 14@ 01/01 00h:46m:41s:134ms: uipc_rb_open: semid = 0\r\nBSA_trace 15@ 01/01 00h:46m:41s:134ms: uipc_rb_open: wr_lockid = 1\r\nBSA_trace 16@ 01/01 00h:46m:41s:134ms: uipc_rb_open: wr_lockid.val = 20000\r\nBSA_trace 17@ 01/01 00h:46m:41s:134ms: uipc_cl_av_open AV channel opened\r\nBSA_trace 18@ 01/01 00h:46m:41s:134ms: UIPC_Ioctl ChId:5 Request:UIPC_WRITE_BLOCK (3)\r\nBSA_trace 19@ 01/01 00h:46m:41s:134ms: BSA_AvRegisterInit\r\nBSA_trace 20@ 01/01 00h:46m:41s:134ms: BSA_AvRegister\r\nSelect action => \r\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"b. \u8f93\u5165\u201c3\u201d\u5f00\u59cb\u53d1\u73b0\u84dd\u7259\u97f3\u9891\u8bbe\u5907\uff0c\u7b49\u5f85\u53d1\u73b0\u5b8c\u6210\u3002"}),"\n",(0,s.jsx)(n.p,{children:"c. \u8f93\u5165\u201c7\u201d\u8fdb\u5165\u8fde\u63a5\u6a21\u5f0f\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:"showLineNumbers",children:"Select action => 7\r\nBluetooth AV Open menu:\r\n    0 Device from XML database (already paired)\r\n    1 Device found in last discovery\r\nSelect source => \r\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"d. \u8f93\u5165\u201c1\u201d\uff0c\u7136\u540e\u4ece\u521a\u521a\u626b\u63cf\u7684\u5217\u8868\u4e2d\u627e\u5230\u60f3\u8981\u8fde\u63a5\u7684\u84dd\u7259\u8bbe\u5907\uff0c\u8f93\u5165\u5bf9\u5e94\u7684\u8bbe\u5907\u7f16\u53f7\uff0c\u5f00\u59cb\u914d\u5bf9\u3002\u8fd9\u91cc\u4ee5\u8bbe\u5907 0 \u4e3a\u4f8b\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plain",metastring:"showLineNumbers",children:"Select source => 1\r\nDev:0\r\n        Bdaddr:60:6b:4d:3e:93:26\r\n        Name:\r\n        ClassOfDevice:00:00:00 => Misc device\r\n        Rssi:-65\r\nDev:1\r\n......\r\nSelect device => \r\n\r\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"e. \u8f93\u5165\u201c15\u201d\u6216\u201c16\u201d\u786e\u5b9a\u662f\u5426\u63a5\u53d7\u8fde\u63a5\u8bf7\u6c42\u3002"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:r(61039).A+"",width:"710",height:"303"})}),"\n",(0,s.jsx)(n.p,{children:"\u63a5\u53d7\u540e\uff0c\u5f00\u59cb\u914d\u5bf9\u6d41\u7a0b\uff0c\u76f4\u5230\u84dd\u7259\u8bbe\u5907\u8fde\u63a5\u6210\u529f\u3002"}),"\n",(0,s.jsx)(n.p,{children:"f. \u8f93\u5165\u201c12\u201d\u8fdb\u5165\u64ad\u653e\u83dc\u5355\uff0c\u9009\u62e9\u60f3\u8981\u64ad\u653e\u7684\u6d4b\u8bd5\u97f3\u9891\uff0c\u5f00\u59cb\u64ad\u653e\u3002\u8fd9\u65f6\u84dd\u7259\u97f3\u9891\u8bbe\u5907\u5c31\u80fd\u591f\u6709\u58f0\u97f3\u8f93\u51fa\u4e86\u3002"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:r(45256).A+"",width:"713",height:"760"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u84dd\u7259\u5f55\u97f3\u6d4b\u8bd5"}),"\n",(0,s.jsx)(n.p,{children:"a. \u5728\u4e3b\u83dc\u5355\u8f93\u5165\u201c8\u201d\u8fdb\u5165 ag \u6a21\u5f0f\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plain",metastring:"showLineNumbers",children:"Select action => 8\r\n \r\n*****************hfp ag menu*******************\r\n         1 ==>main_menu\r\n         99 ==>help_menu\r\n         0 ==>quit\r\n ****************************************************\r\nBluetooth Application HFP AG menu:\r\n    2  => Initialize\r\n    3  => Deinitialize\r\n    4  => Discover Headset\r\n    5  => Enable \r\n    6  => Disable \r\n    7  => Register \r\n    8  => Deregister \r\n    9  => Connect \r\n    10  => Disconnect\r\n    11  => Open audio \r\n    12  => Close audio \r\n    13  => Record audio file\r\n    15 => Accept Request\r\n    16 => Refuse Request\r\n    14  => Stop record audio file\r\n    17  => Play audio file\r\n    18  => Stop Playing audio file\r\n    19  => Display SCO route config\r\n    20  => Indicate incoming call\r\n    21  => PickUp call\r\n    22  => HangUp call\r\n    0  => Quit\r\nSelect action => \r\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"b. \u8f93\u5165\u201c2\u201d\u521d\u59cb\u5316 ag \u6a21\u5f0f\u3002"}),"\n",(0,s.jsx)(n.p,{children:"c. \u8f93\u5165\u201c4\u201d\u53d1\u73b0\u84dd\u7259\u8033\u673a\uff0c\u7b49\u5f85\u641c\u7d22\u5b8c\u6210\u3002"}),"\n",(0,s.jsx)(n.p,{children:"d. \u8f93\u5165\u201c9\u201d\u8fdb\u5165\u8fde\u63a5\u83dc\u5355\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plain",metastring:"showLineNumbers",children:"Select action => 9\r\nDEBUG: app_ag_open: Entering\r\nBluetooth AG menu:\r\n    0 Device from XML database (already paired)\r\n    1 Device found in last discovery\r\nSelect source => \n"})}),"\n",(0,s.jsx)(n.p,{children:"e. \u8f93\u5165\u201c1\u201d\u4ece\u626b\u63cf\u7ed3\u679c\u4e2d\u9009\u62e9\u60f3\u8981\u8fde\u63a5\u7684\u84dd\u7259\u8bbe\u5907\u3002"}),"\n",(0,s.jsx)(n.p,{children:"f. \u8f93\u5165\u8bbe\u5907\u7f16\u53f7\u5f00\u59cb\u8fde\u63a5\u3002"}),"\n",(0,s.jsx)(n.p,{children:"g. \u8f93\u5165\u201c15\u201d\u6216\u201c16\u201d\u786e\u5b9a\u662f\u5426\u63a5\u53d7\u8fde\u63a5\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plain",metastring:"showLineNumbers",children:"You must accept or refuse using menu(15---Accept,16---Refuse)\n"})}),"\n",(0,s.jsx)(n.p,{children:"h. \u8f93\u5165\u201c11\u201d\u6253\u5f00 SCO \u94fe\u8def\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u518d\u53e6\u5f00\u4e00\u4e2a\u7ec8\u7aef 3 \u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c++",metastring:"showLineNumbers",children:"systemctl stop pulseaudio\r\n\r\n#\u5f00\u59cb\u5f55\u5236\u84dd\u7259\u8033\u673a\u9ea6\u514b\u98ce\u97f3\u9891\r\nagmcap /home/root/my.wav -D 100 -d 101 -r 16000 -b 16 -c 1 -i MI2S-LPAIF_VA-TX-PRIMARY -dkv 0xA3000003 -p 120 -n 2\r\n\r\n#ctrl+c\u7ed3\u675f\u5f55\u5236\r\n\r\nsystemctl start pulseaudio\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u5f55\u5236\u97f3\u9891\u7684\u4fdd\u5b58\u8def\u5f84\u4e3a ",(0,s.jsx)(n.em,{children:" /home/root/my.wav"}),"\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",metastring:"showLineNumbers",children:'mkdir /data/misc/display -p\r\n\r\n\r\n\r\n\r\nexport PATH=/usr/bin:$PATH\r\nexport EXTRALAYERS="meta-qcom-qim-product-sdk"\r\nexport MACHINE=qcm6490-idp\r\nexport DISTRO=qcom-wayland\r\nsource setup-environment\r\nexport CUST_ID="213195" \r\nexport FWZIP_PATH="/home/scm/prj/6490PI/src/vendor/thundercomm/prebuilt/BP-BINs"\r\nexport BB_ENV_PASSTHROUGH_ADDITIONS="$BB_ENV_PASSTHROUGH_ADDITIONS FWZIP_PATH CUST_ID"\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport PATH=/usr/bin:$PATH\r\nexport EXTRALAYERS="meta-qcom-qim-product-sdk"\r\nexport MACHINE=qcm6490-idp\r\nexport DISTRO=rubikpi-debian\r\nsource setup-environment\r\nexport CUST_ID="213195" \r\nexport FWZIP_PATH="/home/scm/prj/6490PI/src/vendor/thundercomm/prebuilt/BP-BINs"\r\nexport BB_ENV_PASSTHROUGH_ADDITIONS="$BB_ENV_PASSTHROUGH_ADDITIONS FWZIP_PATH CUST_ID"\r\n\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"114-\u8f6f\u4ef6\u7248\u672c\u4fe1\u606f",children:"11.4 \u8f6f\u4ef6\u7248\u672c\u4fe1\u606f"}),"\n",(0,s.jsxs)(n.p,{children:["\u5e26\u53c2\u6570",(0,s.jsx)(n.code,{children:"-v"}),"\u6267\u884c rubikpi_btapp \u7a0b\u5e8f\uff0c\u663e\u793a\u7248\u672c\u4fe1\u606f"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",metastring:"showLineNumbers",children:"rubikpi_btapp -v\n"})})]})}function d(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},61039:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/image-151-8c8ae8e0a32be3bdb43860445ca720c0.jpg"}}]);