"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[3552],{4567:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"Application Development and Execution Guide/Framework-Driven AI Sample Execution/genie","title":"Genie","description":"\u4f7f\u7528 Qualcomm Gen AI Inference Extensions (Genie) \u53ef\u4ee5\u5728 Dragonwing \u5f00\u53d1\u677f\u4e0a\u7684 NPU \u4e0a\u8fd0\u884c\u4e00\u5b9a\u6570\u91cf\u7684\u5927\u8bed\u8a00\u6a21\u578b (LLM) \u548c\u89c6\u89c9\u8bed\u8a00\u6a21\u578b (VLM)\u3002\u8fd9\u4e9b\u6a21\u578b\u5df2\u7ecf\u8fc7\u9ad8\u901a\u79fb\u690d\u548c\u4f18\u5316\uff0c\u4ee5\u5728\u786c\u4ef6\u4e0a\u5c3d\u53ef\u80fd\u9ad8\u6548\u8fd0\u884c\u3002Genie \u4ec5\u652f\u6301\u90e8\u5206\u624b\u52a8\u79fb\u690d\u6a21\u578b\u3002\u5982\u679c\u60a8\u60f3\u8981\u7684\u6a21\u578b\u672a\u5217\u51fa\uff0c\u8bf7\u53c2\u8003 Run LLMs / VLMs using llama.cpp \u5c06\u6a21\u578b\u90e8\u7f72\u81f3 CPU \u4f5c\u4e3a\u5907\u9009\u65b9\u6848\u3002","source":"@site/docs/7.Application Development and Execution Guide/2.Framework-Driven AI Sample Execution/6.genie.md","sourceDirName":"7.Application Development and Execution Guide/2.Framework-Driven AI Sample Execution","slug":"/Application Development and Execution Guide/Framework-Driven AI Sample Execution/genie","permalink":"/ubuntu100-cn.github.io/docs/Application Development and Execution Guide/Framework-Driven AI Sample Execution/genie","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/7.Application Development and Execution Guide/2.Framework-Driven AI Sample Execution/6.genie.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Llama.cpp","permalink":"/ubuntu100-cn.github.io/docs/Application Development and Execution Guide/Framework-Driven AI Sample Execution/llama_cpp"},"next":{"title":"\u914d\u7f6e\u793a\u4f8b\u5e94\u7528\u7a0b\u5e8f","permalink":"/ubuntu100-cn.github.io/docs/Application Development and Execution Guide/IMSDK/Update JSON Config"}}');var t=i(4848),a=i(8453);const o={},l="Genie",r={},c=[{value:"\u5b89\u88c5 AI Runtime SDK - \u793e\u533a\u7248",id:"\u5b89\u88c5-ai-runtime-sdk---\u793e\u533a\u7248",level:2},{value:"\u67e5\u627e\u652f\u6301\u7684\u6a21\u578b",id:"\u67e5\u627e\u652f\u6301\u7684\u6a21\u578b",level:2},{value:"\u8fd0\u884c Qwen2.5-0.5B-Instruct",id:"\u8fd0\u884c-qwen25-05b-instruct",level:2},{value:"\u901a\u8fc7 QAI AppBuilder \u63d0\u4f9b UI \u6216 API",id:"\u901a\u8fc7-qai-appbuilder-\u63d0\u4f9b-ui-\u6216-api",level:2},{value:"\u63d0\u793a\u4e0e\u6280\u5de7",id:"\u63d0\u793a\u4e0e\u6280\u5de7",level:2},{value:"\u4ece HuggingFace \u4e0b\u8f7d\u9700\u8981\u8eab\u4efd\u9a8c\u8bc1\u7684\u6587\u4ef6",id:"\u4ece-huggingface-\u4e0b\u8f7d\u9700\u8981\u8eab\u4efd\u9a8c\u8bc1\u7684\u6587\u4ef6",level:3}];function d(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"genie",children:"Genie"})}),"\n",(0,t.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,t.jsx)(n.a,{href:"https://www.qualcomm.com/developer/software/gen-ai-inference-extensions",children:"Qualcomm Gen AI Inference Extensions (Genie)"})," \u53ef\u4ee5\u5728 Dragonwing \u5f00\u53d1\u677f\u4e0a\u7684 NPU \u4e0a\u8fd0\u884c\u4e00\u5b9a\u6570\u91cf\u7684\u5927\u8bed\u8a00\u6a21\u578b (LLM) \u548c\u89c6\u89c9\u8bed\u8a00\u6a21\u578b (VLM)\u3002\u8fd9\u4e9b\u6a21\u578b\u5df2\u7ecf\u8fc7\u9ad8\u901a\u79fb\u690d\u548c\u4f18\u5316\uff0c\u4ee5\u5728\u786c\u4ef6\u4e0a\u5c3d\u53ef\u80fd\u9ad8\u6548\u8fd0\u884c\u3002Genie \u4ec5\u652f\u6301\u90e8\u5206\u624b\u52a8\u79fb\u690d\u6a21\u578b\u3002\u5982\u679c\u60a8\u60f3\u8981\u7684\u6a21\u578b\u672a\u5217\u51fa\uff0c\u8bf7\u53c2\u8003 ",(0,t.jsx)(n.a,{href:"https://qc-ai-test.gitbook.io/qc-ai-test-docs/running-building-ai-models/llama-cpp",children:"Run LLMs / VLMs using llama.cpp"})," \u5c06\u6a21\u578b\u90e8\u7f72\u81f3 CPU \u4f5c\u4e3a\u5907\u9009\u65b9\u6848\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"\u5b89\u88c5-ai-runtime-sdk---\u793e\u533a\u7248",children:"\u5b89\u88c5 AI Runtime SDK - \u793e\u533a\u7248"}),"\n",(0,t.jsxs)(n.p,{children:["\u9996\u5148\u5b89\u88c5 ",(0,t.jsx)(n.a,{href:"https://softwarecenter.qualcomm.com/catalog/item/Qualcomm_AI_Runtime_Community?osArch=Any&osType=All&version=2.35.0.250530",children:"AI Runtime SDK - \u793e\u533a\u7248"}),"\u3002\u5728\u5f00\u53d1\u677f\u4e0a\u6253\u5f00\u7ec8\u7aef\uff0c\u6216\u5efa\u7acb SSH \u4f1a\u8bdd\uff0c\u7136\u540e\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"wget -qO- https://cdn.edgeimpulse.com/qc-ai-docs/device-setup/install_ai_runtime_sdk_2.35.sh | bash\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u67e5\u627e\u652f\u6301\u7684\u6a21\u578b",children:"\u67e5\u627e\u652f\u6301\u7684\u6a21\u578b"}),"\n",(0,t.jsx)(n.p,{children:"\u5728\u4ee5\u4e0b\u51e0\u5904\u627e\u5230\u4e0e Genie \u517c\u5bb9\u7684 LLM \u6a21\u578b\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://aiot.aidlux.com/en/models",children:(0,t.jsx)(n.strong,{children:"Aplux model zoo"})}),":",(0,t.jsx)(n.br,{}),"\n","1\ufe0f\u20e3 \u5728\u2018\u82af\u7247\u5e73\u53f0\u2019\u4e0b\uff0c\u9009\u62e9\uff1a"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"RB3 Gen 2 Vision Kit: 'Qualcomm QCS6490'"}),"\n",(0,t.jsx)(n.li,{children:"RUBIK Pi 3: 'Qualcomm QCS6490'"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"2\ufe0f\u20e3 \u5728\u201c\u81ea\u7136\u8bed\u8a00\u5904\u7406\u201d\u4e0b\uff0c\u9009\u62e9\u201c\u6587\u5b57\u751f\u6210\u201d\u3002"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://aihub.qualcomm.com/models?domain=Generative+AI",children:(0,t.jsx)(n.strong,{children:"Qualcomm AI Hub"})}),"\uff1a",(0,t.jsx)(n.br,{}),"\n","1\ufe0f\u20e3 \u5728\u201cChipset\u201d\u4e0b\uff0c\u9009\u62e9\uff1a"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"RB3 Gen 2 Vision Kit: 'Qualcomm QCS6490 (Proxy)'"}),"\n",(0,t.jsx)(n.li,{children:"RUBIK Pi 3: 'Qualcomm QCS6490 (Proxy)'"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"2\ufe0f\u20e3 \u5728\u201cDomain/Use Case\u201d\u4e0b\uff0c\u9009\u62e9\u201cGenerative AI\u201d\u3002"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\u4ee5 ",(0,t.jsx)(n.a,{href:"https://aiot.aidlux.com/en/models/detail/149?modelType=9&soc=2",children:(0,t.jsx)(n.strong,{children:"Qwen2.5-0.5B-Instruct"})})," \u6a21\u578b\u4e3a\u4f8b\u8fdb\u884c\u90e8\u7f72\u3002\u8be5\u6a21\u578b\u53ef\u517c\u5bb9\u6240\u6709Dragonwing\u5f00\u53d1\u677f\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"\u8fd0\u884c-qwen25-05b-instruct",children:"\u8fd0\u884c Qwen2.5-0.5B-Instruct"}),"\n",(0,t.jsx)(n.p,{children:"\u4e0b\u8f7d\u6a21\u578b\u65f6\uff0c\u60a8\u5c06\u9700\u8981 3 \u4e2a\u6587\u4ef6\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u4e00\u4e2a\u6216\u591a\u4e2a",(0,t.jsx)(n.code,{children:"*.serialized.bin"}),"\u6587\u4ef6\u3002\u8fd9\u4e9b\u6587\u4ef6\u5305\u542b\u6a21\u578b\u7684\u6743\u91cd\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"tokenizer.json"}),"\u662f\u4e00\u4e2a\u5e8f\u5217\u5316\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u7528\u4e8e\u5b9a\u4e49\u5982\u4f55\u5c06\u6587\u672c\u5206\u5272\u4e3a\u4ee4\u724c\uff0c\u5e76\u5efa\u7acb\u5b57\u7b26\u3001\u5b50\u8bcd\u4e0e LLM \u4f7f\u7528\u7684\u6574\u6570 ID \u4e4b\u95f4\u7684\u6620\u5c04\u3002\u6b64\u7c7b\u6587\u4ef6\u901a\u5e38\u53ef\u4ee5\u4ece HuggingFace \u7684\u6a21\u578b\u5e93\u4e0b\u8f7d\u3002Genie \u652f\u6301\u7684\u6a21\u578b\u7684\u94fe\u63a5\uff1a ",(0,t.jsx)(n.a,{href:"https://github.com/quic/ai-hub-apps/tree/main/tutorials/llm_on_genie",children:"quic/ai-hub-apps:"}),(0,t.jsx)(n.a,{href:"https://github.com/quic/ai-hub-apps/tree/main/tutorials/llm_on_genie",children:" "}),(0,t.jsx)(n.a,{href:"https://github.com/quic/ai-hub-apps/tree/main/tutorials/llm_on_genie",children:"LLM On-Device Deployment > Prepare Genie configs"}),"\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:["Genie \u914d\u7f6e\u6587\u4ef6\uff0c\u4ecb\u7ecd\u901a\u8fc7 Genie \u8fd0\u884c\u6b64\u6a21\u578b\u7684\u8bf4\u660e\u3002AI Hub \u4e2d\u7684\u6a21\u578b\u53ef\u4ee5\u5728 GitHub \u4e0a\u627e\u5230\uff1a",(0,t.jsx)(n.a,{href:"https://github.com/quic/ai-hub-apps/tree/main/tutorials/llm_on_genie/configs/genie",children:"quic/ai-hub-apps: tutorials/llm_on_genie/configs/genie"}),"\u3002"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u57fa\u4e8e\u6240\u6709\u8fd9\u4e9b\u6587\u4ef6\u8fd0\u884c Qwen2.5-0.5B-Instruct\u3002\u5728\u5f00\u53d1\u677f\u4e0a\u6253\u5f00\u7ec8\u7aef\uff0c\u6216\u5efa\u7acb SSH \u4f1a\u8bdd\uff0c\u7136\u540e\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a"}),"\n",(0,t.jsxs)(n.p,{children:["1\ufe0f\u20e3 \u5c06\u6a21\u578b\u4e0b\u8f7d\u5230\u5f00\u53d1\u677f\u3002 a. \u524d\u5f80 ",(0,t.jsx)(n.a,{href:"https://aiot.aidlux.com/en/models/detail/149?modelType=9&soc=2",children:"Aplux model zoo:"}),(0,t.jsx)(n.a,{href:"https://aiot.aidlux.com/en/models/detail/149?modelType=9&soc=2",children:" "}),(0,t.jsx)(n.a,{href:"https://aiot.aidlux.com/en/models/detail/149?modelType=9&soc=2",children:"Qwen2.5-0.5B-Instruct"}),"\u3002b. \u6ce8\u518c Aplux \u8d26\u53f7\u3002c. \u5728\u201c\u8bbe\u5907\u201d\u4e0b\uff0c\u9009\u62e9 QCS6490\u3002d. \u70b9\u51fb\u201c\u4e0b\u8f7d\u6a21\u578b&\u4ee3\u7801\u201d\u3002"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://3580193864-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2FxM5xrbdbelLSl7uN8oac%2Fuploads%2Fgit-blob-50d65ed63d098563fd3b18b0ed09066ca758b00f%2Faplux1.png?alt=media",alt:"",title:"Downloading Genie-compatible models for the QCS6490"})}),"\n",(0,t.jsx)(n.p,{children:"e. \u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u901a\u8fc7 SSH \u5c06 ZIP \u6587\u4ef6\u63a8\u9001\u5230\u5f00\u53d1\u677f\uff1ai. \u627e\u5230\u5f00\u53d1\u677f\u7684 IP \u5730\u5740\u3002\u5728\u60a8\u7684\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ifconfig | grep -Eo 'inet (addr:)?([0-9]*\\.){3}[0-9]*' | grep -Eo '([0-9]*\\.){3}[0-9]*' | grep -v '127.0.0.1'\n\n# ... Example:\n# 192.168.1.253\n"})}),"\n",(0,t.jsx)(n.p,{children:"ii. Push the .zip file. Run from your computer:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"scp qnn229_qcs6490_cl4096.zip ubuntu@192.168.1.253:~/qnn229_qcs6490_cl4096.zip\n"})}),"\n",(0,t.jsx)(n.p,{children:"2\ufe0f\u20e3 \u89e3\u538b\u6a21\u578b\u3002\u5728\u5f00\u53d1\u677f\u4e0a\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mkdir -p genie-models/\nunzip -d genie-models/qwen2.5-0.5b-instruct/ qnn229_qcs6490_cl4096.zip\nrm qnn229_qcs6490_cl4096.zip\n"})}),"\n",(0,t.jsx)(n.p,{children:"3\ufe0f\u20e3 \u8fd0\u884c\u4f60\u7684\u6a21\u578b\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd genie-models/qwen2.5-0.5b-instruct/\n\ngenie-t2t-run -c ./qwen2.5-0.5b-instruct-htp.json -p '<|im_start|>system\n    You are Qwen, created by Alibaba Cloud. You are a helpful assistant that responds in English.<|im_end|><|im_start|>user\n    What is the capital of the Netherlands?<|im_end|><|im_start|>assistant'\n\n# Using libGenie.so version 1.9.0\n#\n# [BEGIN]:\n# The capital of the Netherlands is Amsterdam.[END]\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u592a\u68d2\u4e86\uff0c\u73b0\u5728\u60a8\u5df2\u6210\u529f\u5728Genie\u73af\u5883\u4e0b\u8fd0\u884c\u8be5\u5927\u8bed\u8a00\u6a21\u578b\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"\u901a\u8fc7-qai-appbuilder-\u63d0\u4f9b-ui-\u6216-api",children:"\u901a\u8fc7 QAI AppBuilder \u63d0\u4f9b UI \u6216 API"}),"\n",(0,t.jsxs)(n.p,{children:["\u8981\u5728\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528 Genie \u6a21\u578b\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 ",(0,t.jsx)(n.a,{href:"https://github.com/quic/ai-engine-direct-helper",children:"QAI AppBuilder"})," \u5e93\u3002AppBuilder repo \u65e2\u6709\u4e0e OpenAI \u517c\u5bb9\u7684\u4f1a\u8bdd\u8865\u5168 API\uff0c\u4e5f\u6709\u4e0e\u60a8\u7684\u6a21\u578b\u4ea4\u4e92\u7684 Web UI\uff08\u7c7b\u4f3c",(0,t.jsx)(n.a,{href:"https://qc-ai-test.gitbook.io/qc-ai-test-docs/running-building-ai-models/llama-cpp",children:"llama.cpp  "}),"\uff09\u3002"]}),"\n",(0,t.jsxs)(n.admonition,{type:"warning",children:[(0,t.jsx)(n.mdxAdmonitionTitle,{}),(0,t.jsx)(n.p,{children:"\u79ef\u6781\u5f00\u53d1AppBuilder \u76ee\u524d\u5904\u4e8e\u79ef\u6781\u5f00\u53d1\u9636\u6bb5\u3002\u6211\u4eec\u5df2\u7ecf\u5c3d\u53ef\u80fd\u5730\u56fa\u5b9a\u4e86\u7248\u672c\uff0c\u4f46\u4f7f\u7528\u66f4\u65b0\u7248\u672c\u7684 AppBuilder \u53ef\u80fd\u65e0\u6cd5\u4e0e\u4ee5\u4e0b\u6307\u5357\u517c\u5bb9\u3002"})]}),"\n",(0,t.jsx)(n.p,{children:"1\ufe0f\u20e3 \u5b89\u88c5 AppBuilder\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'sudo apt install -y yq\n\n# Clone the repository (can switch back to upstream once https://github.com/quic/ai-engine-direct-helper/pull/16 is landed)\ngit clone https://github.com/edgeimpulse/ai-engine-direct-helper\ncd ai-engine-direct-helper\ngit submodule update --init --recursive\ngit checkout linux-paths\n\n# Create a new venv\npython3 -m venv .venv\nsource .venv/bin/activate\n\n# Build the wheel\npip3 install setuptools\npython setup.py bdist_wheel\npip3 install ./dist/qai_appbuilder-*-linux_aarch64.whl\n\n# Install other dependencies\npip3 install \\\n    uvicorn==0.35.0 \\\n    pydantic_settings==2.10.1 \\\n    fastapi==0.116.1 \\\n    langchain==0.3.27 \\\n    langchain-core==0.3.75 \\\n    langchain-community==0.3.29 \\\n    sse_starlette==3.0.2 \\\n    pypdf==6.0.0 \\\n    python-pptx==1.0.2 \\\n    docx2txt==0.9 \\\n    openai==1.107.0 \\\n    json-repair==0.50.1 \\\n    qai_hub==0.36.0 \\\n    py3_wget==1.0.13 \\\n    torch==2.8.0 \\\n    transformers==4.56.1 \\\n    gradio==5.44.1 \\\n    diffusers==0.35.1\n\n# Where you\'ve downloaded the weights, and created the config files before\nWEIGHTS_DIR=~/genie-models/qwen2.5-0.5b-instruct/\nMODEL_NAME=qwen2_5-0_5b-instruct\n\n# Create a new directory and link the files\nmkdir -p samples/genie/python/models/$MODEL_NAME\ncd samples/genie/python/models/$MODEL_NAME\n\n# Patch up config\ncp $WEIGHTS_DIR/*instruct-htp.json config.json\njq --arg pwd "$PWD" \'.dialog.tokenizer.path |= if startswith($pwd + "/") then . else $pwd + "/" + . end\' config.json > tmp && mv tmp config.json\njq --arg pwd "$PWD" \'.dialog.engine.backend.extensions |= if startswith($pwd + "/") then . else $pwd + "/" + . end\' config.json > tmp && mv tmp config.json\njq --arg pwd "$PWD" \'.dialog.engine.model.binary["ctx-bins"] |= map(if startswith($pwd + "/") then . else $pwd + "/" + . end)\' config.json > tmp && mv tmp config.json\n\n# Symlink other files\nln -s $WEIGHTS_DIR/*.json .\nln -s $WEIGHTS_DIR/*okenizer.json tokenizer.json\nln -s $WEIGHTS_DIR/*.serialized.bin .\necho "prompt_tags_1: <|im_start|>system\\nYou are Qwen, created by Alibaba Cloud. You are a helpful assistant.<|im_end|>\\n<|im_start|>user\\nGive me a short introduction to large language model.\nprompt_tags_2: <|im_end|>\\n<|im_start|>assistant\\n" > prompt.conf\n\n# Navigate back to samples/ directory\ncd ../../../..\n\n# Create empty tokenizer files, otherwise they will be downloaded... (which will fail)\nif [ ! -f genie/python/models/Phi-3.5-mini/tokenizer.json ]; then\n    echo \'{}\' > genie/python/models/Phi-3.5-mini/tokenizer.json\nfi\nif [ ! -f genie/python/models/IBM-Granite-v3.1-8B/tokenizer.json ]; then\n    echo \'{}\' > genie/python/models/IBM-Granite-v3.1-8B/tokenizer.json\nfi\n'})}),"\n",(0,t.jsxs)(n.p,{children:["2\ufe0f\u20e3 \u8fd0\u884c Web UI\uff08\u4ece",(0,t.jsx)(n.code,{children:"samples/"}),"\u76ee\u5f55\uff09\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Find the IP address of your development board\nifconfig | grep -Eo 'inet (addr:)?([0-9]*\\.){3}[0-9]*' | grep -Eo '([0-9]*\\.){3}[0-9]*' | grep -v '127.0.0.1'\n\n# ... Example:\n# 192.168.1.253\n\n# Run the Web UI\npython webui/GenieWebUI.py\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u73b0\u5728\u5728\u7f51\u7edc\u6d4f\u89c8\u5668\uff08\u60a8\u7684\u8ba1\u7b97\u673a\u4e0a\uff09\u6253\u5f00 ",(0,t.jsx)(n.code,{children:"http://192.168.1.253:8976"}),"\uff08\u66ff\u6362\u4e3a\u60a8\u7684 IP\uff09\u6765\u4e0e\u6a21\u578b\u8fdb\u884c\u4ea4\u4e92\u3002\u786e\u4fdd\u9996\u5148\u901a\u8fc7\u201c\u6a21\u578b\u201d\u4e0b\u62c9\u83dc\u5355\u9009\u62e9\u6a21\u578b\u3002"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://3580193864-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2FxM5xrbdbelLSl7uN8oac%2Fuploads%2Fgit-blob-d22ee694bd20caf302bda5cc6c697f3c8575ada4%2Fgenie-webui.png?alt=media",alt:"",title:"ai-engine-direct-helper WebUI demo"})}),"\n",(0,t.jsxs)(n.p,{children:["3\ufe0f\u20e3 \u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7 OpenAI \u4f1a\u8bdd\u8865\u5168 API \u4ee5\u7f16\u7a0b\u65b9\u5f0f\u8bbf\u95ee\u6b64\u670d\u52a1\u5668\u3002\u4f8b\u5982\u5728 Python\u4e2d\uff1aa. \u542f\u52a8\u670d\u52a1\u5668\uff08\u4ece",(0,t.jsx)(n.code,{children:"samples/"}),"\u76ee\u5f55\uff09\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'python genie/python/GenieAPIService.py --modelname "qwen2_5-0_5b-instruct"   --loadmodel --profile\n'})}),"\n",(0,t.jsxs)(n.p,{children:["b. \u4ece",(0,t.jsx)(n.em,{children:"\u65b0\u7ec8\u7aef"}),"\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u865a\u62df\u73af\u5883\uff08venv\uff09\u5e76\u5b89\u88c5",(0,t.jsx)(n.code,{children:"requests"}),"\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"python3 -m venv .venv-chat\nsource .venv/bin/activate\npip3 install requests\n"})}),"\n",(0,t.jsxs)(n.p,{children:["c. \u521b\u5efa\u4e00\u4e2a\u65b0\u6587\u4ef6",(0,t.jsx)(n.code,{children:"chat.py"}),"\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import requests\n\n# if running from your own computer, replace localhost with the IP address of your development board\nurl = "http://localhost:8910/v1/chat/completions"\n\npayload = {\n    "model": "qwen2_5-0_5b-instruct",\n    "messages": [\n        {"role": "system", "content": "You are a helpful assistant."},\n        {"role": "user", "content": "Explain Qualcomm in one sentence."}\n    ],\n    "temperature": 0.7,\n    "max_tokens": 200\n}\n\nresponse = requests.post(url, headers={ "Content-Type": "application/json" }, json=payload)\nprint(response.json())\n'})}),"\n",(0,t.jsxs)(n.p,{children:["d. \u8fd0\u884c",(0,t.jsx)(n.code,{children:"chat.py"}),"\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"python3 chat.py\n\n# {'id': 'genie-llm', 'model': 'IBM-Granite', 'object': 'chat.completion', 'created': 1757512757, 'choices': [{'index': 0, 'message': {'role': 'assistant', 'content': 'Qualcomm is a leading American technology company that designs, manufactures, and markets mobile phone chips and other wireless communication products.', 'tool_call_id': None, 'tool_calls': None}, 'finish_reason': 'stop'}], 'usage': {'prompt_tokens': 0, 'completion_tokens': 0, 'total_tokens': 0}}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["(Model seems to always return ",(0,t.jsx)(n.code,{children:"IBM-Granite"}),", you can disregard this)"]}),"\n",(0,t.jsx)(n.h2,{id:"\u63d0\u793a\u4e0e\u6280\u5de7",children:"\u63d0\u793a\u4e0e\u6280\u5de7"}),"\n",(0,t.jsx)(n.h3,{id:"\u4ece-huggingface-\u4e0b\u8f7d\u9700\u8981\u8eab\u4efd\u9a8c\u8bc1\u7684\u6587\u4ef6",children:"\u4ece HuggingFace \u4e0b\u8f7d\u9700\u8981\u8eab\u4efd\u9a8c\u8bc1\u7684\u6587\u4ef6"}),"\n",(0,t.jsxs)(n.p,{children:["\u5982\u679c\u60a8\u8981\u4e0b\u8f7d\u9700\u8981\u6743\u9650\u6216\u8eab\u4efd\u9a8c\u8bc1\u7684\u6587\u4ef6\uff0c\u4f8b\u5982 ",(0,t.jsx)(n.a,{href:"https://huggingface.co/meta-llama/Llama-3.2-1B-Instruct/",children:"Llama-3.2-1B-Instruct"})," \u7684 ",(0,t.jsx)(n.code,{children:"tokenizer.json"})," \u6587\u4ef6\uff0c\u8bf7\u6309\u4ee5\u4e0b\u6b65\u9aa4\uff1a"]}),"\n",(0,t.jsxs)(n.p,{children:["1\ufe0f\u20e3 \u524d\u5f80 ",(0,t.jsx)(n.a,{href:"https://huggingface.co/meta-llama/Llama-3.2-1B-Instruct/",children:"HuggingFace"}),"\u7684\u6a21\u578b\u9875\u9762\uff0c\u767b\u5f55\uff08\u6216\u6ce8\u518c\uff09\uff0c\u5e76\u586b\u5199\u8868\u5355\u4ee5\u83b7\u53d6\u8bbf\u95ee\u8be5\u6a21\u578b\u7684\u6743\u9650\u30022\ufe0f\u20e3 \u5728 ",(0,t.jsx)(n.a,{href:"https://huggingface.co/settings/tokens",children:"https://huggingface.co/settings/tokens"})," \u521b\u5efa\u4e00\u4e2a\u5177\u6709\u201c\u8bfb\u53d6\u201d\u6743\u9650\u7684\u65b0 HuggingFace \u8bbf\u95ee\u4ee4\u724c\uff0c\u5e76\u5728\u5f00\u53d1\u677f\u4e0a\u8fdb\u884c\u914d\u7f6e\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"export HF_TOKEN=hf_gs...\n\n# Optionally add ^ to ~/.bash_profile to ensure it gets loaded automatically in the future.\n"})}),"\n",(0,t.jsx)(n.p,{children:"3\ufe0f\u20e3 \u83b7\u5f97\u8bbf\u95ee\u6743\u9650\u540e\uff0c\u5c31\u53ef\u4ee5\u4e0b\u8f7d\u5206\u8bcd\u5668\uff08tokenizer\uff09\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'wget --header="Authorization: Bearer $HF_TOKEN" https://huggingface.co/meta-llama/Llama-3.2-1B-Instruct/resolve/main/tokenizer.json\n'})})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var s=i(6540);const t={},a=s.createContext(t);function o(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);